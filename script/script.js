const menuData = {
    "Café": [
        { "nombre": "Ristretto", "descripcion": "Café corto", "tamaño": "25ml", "precio": 2500, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Espresso", "descripcion": "Café fuerte", "tamaño": "40ml", "precio": 2.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Lungo", "descripcion": "Café largo", "tamaño": "110ml", "precio": 3.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Latte", "descripcion": "Café con leche", "tamaño": "110ml", "precio": 3.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Lágrima", "descripcion": "Un toque de café con mucha leche", "tamaño": "200ml", "precio": 3.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Cortado", "descripcion": "Café con poca leche", "tamaño": "150ml", "precio": 3.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Café con leche", "descripcion": "Mezcla clásica de café con leche", "tamaño": "200ml", "precio": 3.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Café Benita", "descripcion": "Café con licor", "tamaño": "200ml", "precio": 4.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Café Helado", "descripcion": "Café frío", "tamaño": "300ml", "precio": 4.00, "imagen": "/api/placeholder/300/200" }
    ],
    "Sin Café": [
        { "nombre": "Submarino", "descripcion": "Leche caliente con barra de chocolate", "tamaño": "250ml", "precio": 4.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Chocolatada", "descripcion": "Leche con chocolate", "tamaño": "250ml", "precio": 4.00, "imagen": "/api/placeholder/300/200" }
    ],
    "Té": [
        { "nombre": "Té", "descripcion": "Té clásico", "tamaño": "200ml", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Té con leche", "descripcion": "Té con leche", "tamaño": "200ml", "precio": 2.50, "imagen": "/api/placeholder/300/200" }
    ],
    "Alfajores": [
        { "nombre": "Blanco / Negro", "descripcion": "Alfajor clásico de chocolate", "tamaño": "individual", "precio": 1.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Conito Dulce de Leche", "descripcion": "Cono relleno de dulce de leche", "tamaño": "individual", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Galletas bañadas en chocolate", "descripcion": "Galletas cubiertas de chocolate", "tamaño": "paquete", "precio": 1.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Galletas con Arándanos", "descripcion": "Galletas con trozos de arándanos", "tamaño": "paquete", "precio": 1.75, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Galletas con Chips de Chocolate", "descripcion": "Galletas con chips de chocolate", "tamaño": "paquete", "precio": 1.75, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Bombon Frutal", "descripcion": "Bombón relleno de frutas", "tamaño": "individual", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Estuche x 2 alfajores", "descripcion": "Caja con dos alfajores", "tamaño": "estuche", "precio": 3.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Estuche Triologia 6 alfajores", "descripcion": "Caja con seis alfajores", "tamaño": "estuche", "precio": 9.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Cordobés", "descripcion": "Alfajor típico de Córdoba", "tamaño": "individual", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "de Cacao", "descripcion": "Alfajor de cacao", "tamaño": "individual", "precio": 1.75, "imagen": "/api/placeholder/300/200" },
        { "nombre": "de Coco", "descripcion": "Alfajor de coco", "tamaño": "individual", "precio": 1.75, "imagen": "/api/placeholder/300/200" },
        { "nombre": "de Merengue", "descripcion": "Alfajor cubierto de merengue", "tamaño": "individual", "precio": 1.75, "imagen": "/api/placeholder/300/200" },
        { "nombre": "de Maicena", "descripcion": "Alfajor de maicena", "tamaño": "individual", "precio": 1.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Conito de Dulce de Leche", "descripcion": "Conito relleno de dulce de leche", "tamaño": "individual", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Colacion", "descripcion": "Alfajor típico", "tamaño": "individual", "precio": 1.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Nuez Confitada", "descripcion": "Alfajor con nueces confitadas", "tamaño": "individual", "precio": 2.25, "imagen": "/api/placeholder/300/200" }
    ],
    "Dulces Caseros": [
        { "nombre": "Cookies vainilla con chips", "descripcion": "Galletas de vainilla con chips", "tamaño": "paquete", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Cookies chocolate con nuez", "descripcion": "Galletas de chocolate y nuez", "tamaño": "paquete", "precio": 2.25, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Palmeritas", "descripcion": "Palmeritas de hojaldre", "tamaño": "paquete", "precio": 1.75, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Alfajorcitos de Maicena", "descripcion": "Pequeños alfajores de maicena", "tamaño": "individual", "precio": 2.00, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Medialunas", "descripcion": "Medialunas dulces", "tamaño": "unidad", "precio": 1.50, "imagen": "/api/placeholder/300/200" },
        { "nombre": "Criollos", "descripcion": "Criollos salados", "tamaño": "unidad", "precio": 1.50, "imagen": "/api/placeholder/300/200" }
    ]
};

function crearBotonesCategorias() {
    const buttonContainer = document.getElementById('category-buttons');
    for (const categoria in menuData) {
        const button = document.createElement('button');
        button.textContent = categoria;
        button.className = 'btn category-btn';
        button.addEventListener('click', () => {
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            cargarMenu(categoria);
        });
        buttonContainer.appendChild(button);
    }
}

function cargarMenu(categoria) {
    const menuContainer = document.getElementById('menu-container');
    menuContainer.innerHTML = ''; // Limpiar el contenedor

    if (categoria && menuData[categoria]) {
        const items = menuData[categoria];
        const categoriaElement = document.createElement('div');
        categoriaElement.innerHTML = `
            <h2 class="mt-4 mb-3">${categoria}</h2>
            <div class="row row-cols-1 row-cols-md-3 g-4" id="${categoria.replace(/\s+/g, '-').toLowerCase()}-container"></div>
        `;
        menuContainer.appendChild(categoriaElement);

        const categoryContainer = document.getElementById(`${categoria.replace(/\s+/g, '-').toLowerCase()}-container`);
        items.forEach(item => {
            const card = document.createElement('div');
            card.className = 'col';
            card.innerHTML = `
                <div class="card h-100">
                    <img src="${item.imagen}" class="card-img-top" alt="${item.nombre}">
                    <div class="card-body">
                        <h5 class="card-title">${item.nombre}</h5>
                        <p class="card-text">${item.descripcion}</p>
                        <p class="card-text">${item.tamaño}</p>
                        <p class="card-text price">$${item.precio}</p>
                    </div>
                </div>
            `;
            categoryContainer.appendChild(card);
        });
    }
}

document.addEventListener('DOMContentLoaded', () => {
    crearBotonesCategorias();
    // Cargar la primera categoría por defecto
    const primerCategoria = Object.keys(menuData)[0];
    cargarMenu(primerCategoria);
    document.querySelector('.category-btn').classList.add('active');
});

let mybutton = document.getElementById("btn-back-to-top");

// Cuando el usuario se desplaza 20px desde la parte superior del documento, mostrar el botón
window.onscroll = function () { scrollFunction() };

function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        mybutton.style.display = "block";
    } else {
        mybutton.style.display = "none";
    }
}

// Cuando el usuario hace clic en el botón, desplazarse hasta la parte superior del documento
mybutton.addEventListener("click", backToTop);

function backToTop() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}